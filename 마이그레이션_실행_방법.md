# 데이터베이스 마이그레이션 실행 방법

## ✅ 방법 1: Python 스크립트로 실행 (가장 간단)

### 단계별 안내

1. **Railway PostgreSQL Public Network URL 확인**
   - Railway 대시보드 접속
   - PostgreSQL 서비스 선택
   - **Connect** 탭 클릭
   - **Public Network** 섹션의 URL 복사
     - 예: `postgresql://postgres:password@containers-us-west-xxx.railway.app:5432/railway`

2. **스크립트 실행**
   ```powershell
   python run_migration_with_url.py
   ```

3. **URL 입력**
   - 프롬프트가 나타나면 복사한 URL을 붙여넣기
   - Enter 키 누르기

4. **완료 확인**
   - 마이그레이션이 자동으로 실행됩니다
   - 성공/건너뜀/오류 개수가 표시됩니다

## 방법 2: Railway CLI 사용

### Railway CLI 설치
```powershell
# Windows (PowerShell)
iwr https://railway.app/install.ps1 | iex
```

### 실행
```powershell
railway connect
railway run psql < database_migration_final.sql
```

## 방법 3: 외부 PostgreSQL 클라이언트 사용

### DBeaver, pgAdmin 등 사용
1. Railway PostgreSQL의 Public Network URL로 연결
2. `database_migration_final.sql` 파일을 열어서 실행

## 마이그레이션 내용

- 날짜 타입 변경 (TEXT → DATE)
- 컬럼 추가 (stores, store_pcs, shots)
- 인덱스 추가 (성능 최적화)

## 주의사항

- 이미 존재하는 컬럼/인덱스는 자동으로 건너뜀
- 안전하게 설계되어 여러 번 실행 가능
