# shot_collector 실행 시 최종 UX (확정안)

## ▶ 실행하면 GUI가 먼저 뜬다

- 콘솔/백그라운드 바로 실행 ❌
- 무조건 설정 GUI → 시작 버튼 ⭕

---

## 1️⃣ shot_collector GUI 구성 (필수 요소)

### 🔹 ① 브랜드 선택

- **콤보박스**
  - GOLFZON
  - SG
  - KAKAO
  - ...

- 이 값으로 서버 좌표 목록 필터링

### 🔹 ② 좌표 파일 선택

- 서버에서 불러온 좌표 목록 표시
- 예:
  - `GOLFZON_1920x1080_v1.json`
  - `GOLFZON_1920x1080_v2.json`
  - `GOLFZON_3840x2160_v1.json`

- 여러 개 중 하나 선택

👉 자동 선택도 가능하지만  
👉 운영 안정성 때문에 **"명시적 선택"**이 맞다

### 🔹 ③ 시작 / 종료 버튼

**시작**
- 좌표 파일 로드
- OCR 루프 시작
- 트레이로 이동

**종료**
- OCR 루프 종료
- 트레이 제거
- 프로세스 종료

---

## 2️⃣ 시작 버튼을 눌렀을 때 내부 동작 (중요)

```
[시작 클릭]
   ↓
좌표 파일 다운로드
   ↓
메모리에 좌표 고정 (SESSION_COORDS)
   ↓
샷 수집 루프 시작
   ↓
GUI 숨김 → 트레이로 이동
```

📌 **여기서 좌표는 "세션 동안 고정"**

- 샷마다 변경 ❌
- OCR 중 변경 ❌

---

## 3️⃣ 샷 수집 중 좌표 적용 위치 (다시 한 번 정리)

```python
# shot_collector 내부
coords = SESSION_COORDS  # 실행 시 1회 결정

def on_new_shot(frame):
    for key, region in coords.items():
        crop = crop_by_ratio(frame, region)
        value = ocr(crop)
```

👉 좌표는 OCR 직전에만 사용  
👉 UI나 오버레이에는 관여 ❌

---

## 4️⃣ 트레이 동작 (이 설계가 좋은 이유)

### 🎯 왜 트레이로 보내는 게 맞나

**매장에서:**
- 항상 켜져 있어야 함
- 화면을 가리면 안 됨

**사용자는:**
- "켜져 있는지"만 알면 됨

### 🔹 트레이 메뉴 예시

- **상태 표시**: ● 실행 중
- **다시 열기**
- **일시 정지**
- **종료**

👉 실전 매장용 UX 정답

---

## 5️⃣ 왜 이 구조가 정답이냐 (논리 정리)

| 항목 | 이유 |
|------|------|
| 실행 시 GUI | 좌표 선택은 1회면 충분 |
| 브랜드 + 파일 선택 | 자동보다 안정 |
| 시작/종료 버튼 | 운영 실수 방지 |
| 트레이 실행 | 화면 방해 ❌ |
| 세션 고정 좌표 | 데이터 일관성 ⭕ |

---

## ❌ 하면 안 되는 구조 (중요)

- 샷마다 좌표 선택 ❌
- OCR 중 좌표 변경 ❌
- GUI 없이 바로 실행 ❌
- 좌표 자동 선택만 강제 ❌

---

## 한 문장으로 딱 정리

> **shot_collector는 "실행 시 좌표를 선택하고, 이후에는 조용히 백그라운드에서 일하는 프로그램"이다.**
