# 매장 설치 및 배포 매뉴얼

## 개요
이 문서는 골프 매장에 프로그램을 설치하고 운영하는 방법을 설명합니다.

## 필요한 파일
계약 시 다음 두 개의 실행 파일을 제공합니다:
1. **register_pc.exe** - PC 등록 프로그램 (한 번만 실행)
2. **shot_collector.exe** - 샷 수집 프로그램 (백그라운드 자동 실행)

## 설치 절차

### 1단계: PC 등록 프로그램 실행

1. **register_pc.exe** 파일을 각 타석 PC에 복사
2. 더블클릭하여 실행
3. 다음 정보 입력:
   - **매장명**: 예) "가자골프"
   - **타석명**: 예) "1번 타석"
   - **PC 이름**: 예) "타석1-PC"
   - **서버 URL**: 기본값 사용 (엔터)
4. 등록 완료 메시지 확인
5. **중요**: 슈퍼 관리자의 승인을 기다려야 합니다.

### 2단계: 슈퍼 관리자 승인

1. 슈퍼 관리자가 로그인
2. "PC 관리" 메뉴 클릭
3. 등록된 PC 목록에서 해당 PC 확인
4. "승인" 버튼 클릭
5. 사용기간 설정:
   - **사용 시작일**: 오늘 날짜 (기본값)
   - **사용 종료일**: 계약 기간에 맞게 설정 (예: 1년 후)
6. "승인" 버튼 클릭

### 3단계: 샷 수집 프로그램 설치

1. **shot_collector.exe** 파일을 각 타석 PC에 복사
2. **setup_autostart.bat** 파일도 함께 복사
3. **setup_autostart.bat** 더블클릭하여 실행
   - 자동 실행 설정 완료 메시지 확인
4. 또는 수동으로 시작 프로그램에 등록:
   - `Win + R` → `shell:startup` 입력
   - `shot_collector.exe` 바로가기 생성

### 4단계: 프로그램 실행 확인

1. PC 재부팅 또는 수동 실행
2. 프로그램이 정상적으로 시작되는지 확인
3. 콘솔 창에서 다음 메시지 확인:
   - `✅ PC 승인 확인: 승인됨`
   - `⛳ 골프 샷 트래커 시작`

## 운영 가이드

### PC 승인 상태 확인
- 샷 수집 프로그램은 시작 시 자동으로 PC 승인 상태를 확인합니다
- 승인되지 않은 PC는 실행되지 않습니다

### 사용기간 연장
1. 슈퍼 관리자 로그인
2. "PC 관리" 메뉴 → 해당 PC 선택
3. "수정" 버튼 클릭
4. 사용 종료일 연장
5. 저장

### 문제 해결

#### "승인 대기 중입니다" 메시지
- 슈퍼 관리자에게 승인 요청
- PC 관리 페이지에서 승인 상태 확인

#### "사용기간이 만료되었습니다" 메시지
- 슈퍼 관리자에게 사용기간 연장 요청
- PC 관리 페이지에서 사용기간 확인

#### 프로그램이 자동으로 실행되지 않음
- 시작 프로그램 폴더 확인: `Win + R` → `shell:startup`
- `GolfShotCollector.lnk` 파일 존재 확인
- 없으면 `setup_autostart.bat` 다시 실행

#### 서버 연결 오류
- 인터넷 연결 확인
- 서버 URL 확인 (기본값: https://user.railway.app)
- 방화벽 설정 확인

## 파일 구조

```
타석 PC/
├── register_pc.exe          (PC 등록 프로그램)
├── shot_collector.exe       (샷 수집 프로그램)
├── setup_autostart.bat     (자동 실행 설정)
├── config/                  (설정 파일)
│   ├── criteria.json
│   └── feedback_messages.json
└── regions/                 (좌표 파일)
    └── [매장명].json
```

## 주의사항

1. **PC 등록은 한 번만 실행**: 이미 등록된 PC는 다시 등록할 필요 없음
2. **승인 필수**: PC 등록 후 반드시 슈퍼 관리자 승인 필요
3. **사용기간 관리**: 계약 기간에 맞게 사용기간 설정
4. **자동 실행 설정**: 컴퓨터 재부팅 시 자동 실행되도록 설정 권장
5. **백그라운드 실행**: 샷 수집 프로그램은 백그라운드에서 실행됨

## 지원

문제가 발생하면 다음 정보를 포함하여 문의:
- PC 고유번호 (register_pc.exe 실행 시 표시됨)
- 오류 메시지
- 매장명 및 타석명
