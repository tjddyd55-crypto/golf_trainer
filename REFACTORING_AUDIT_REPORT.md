# ë¦¬íŒ©í† ë§ í›„ ìˆ¨ì€ ë¬¸ì œ ì ê²€ ë³´ê³ ì„œ

**ê²€ì¦ ì¼ì**: 2026-01-19  
**ê²€ì¦ ë°©ë²•**: ì½”ë“œë² ì´ìŠ¤ ì‹¤ì œ ê²€ìƒ‰ ë° í™•ì¸  
**ê²°ë¡ **: ë¬¸ì œ ë°œê²¬ í•­ëª© ë° í•´ê²° ì œì•ˆ í¬í•¨

---

## 1ï¸âƒ£ ì„¤ì • / ë¦¬ì†ŒìŠ¤ ë¡œë”© ê´€ë ¨ (CRITICAL)

### Q1. criteria.json ì™¸ì— ì‹¤í–‰ ì‹œ ì™¸ë¶€ íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ” ì½”ë“œê°€ ë” ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **`config/criteria.json`**: 
   - `client/app/collector/main.py:1188` - `load_config_json("criteria.json")`
   - `build_shot_collector_gui.py:28` - ë²ˆë“¤ë§ í¬í•¨

2. **`config/feedback_messages.json`**:
   - `client/app/collector/main.py:1140` - `load_feedback_messages()`
   - **âš ï¸ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì— ë²ˆë“¤ë§ í¬í•¨ ì•ˆ ë¨**

3. **`regions/{store_id}.json` / `regions/test.json`**:
   - `client/app/collector/main.py:1177` - `load_json(regions_filename)`
   - `build_shot_collector_gui.py:30` - `client/app/collector/regions` ë²ˆë“¤ë§ í¬í•¨
   - **âš ï¸ í”„ë¡œì íŠ¸ ë£¨íŠ¸ `regions/test.json` ë¯¸ë²ˆë“¤ë§**

4. **`config.json`** (PC ì„¤ì •):
   - `client/app/collector/main.py:134` - `get_config_file()`
   - `client/app/collector/main.py:104` - `PC_TOKEN_FILE`
   - **âš ï¸ ë²ˆë“¤ë§ ì—†ìŒ (ì‹¤í–‰ ì‹œ ìƒì„±)**

5. **`temp_regions.json`**:
   - `client/app/collector/main.py:2310` - GUIì—ì„œ ë‹¤ìš´ë¡œë“œí•œ ì¢Œí‘œ íŒŒì¼
   - **âš ï¸ ë²ˆë“¤ë§ ì—†ìŒ (ë™ì  ìƒì„±)**

**ìˆ˜ì • ì œì•ˆ**:
- `config/feedback_messages.json`ë„ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì— í¬í•¨ í•„ìš”
- `regions/test.json` í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê¸°ì¤€ ë²ˆë“¤ë§ í™•ì¸ í•„ìš”

---

### Q2. exe ì‹¤í–‰ ê¸°ì¤€ê³¼ python ì‹¤í–‰ ê¸°ì¤€ì—ì„œ ì°¸ì¡° ê²½ë¡œê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” ì½”ë“œê°€ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **`get_runtime_base_dir()` í•¨ìˆ˜ ì‚¬ìš©**:
   - `client/app/collector/main.py:119-126`
   ```python
   def get_runtime_base_dir():
       if getattr(sys, 'frozen', False):
           return os.path.dirname(sys.executable)  # exe ì‹¤í–‰ ì‹œ
       return os.path.dirname(os.path.abspath(__file__))  # python ì‹¤í–‰ ì‹œ
   ```
   - âœ… **ì¼ê´€ë˜ê²Œ ì²˜ë¦¬ë¨**

2. **`get_resource_path()` í•¨ìˆ˜**:
   - `client/app/collector/main.py:1025-1041` - `sys._MEIPASS` ìš°ì„  í™•ì¸ í›„ ì‹¤í–‰ ê²½ë¡œ
   - âœ… **onefile í™˜ê²½ ëŒ€ì‘**

3. **ê²½ë¡œ ì²˜ë¦¬**:
   - ëª¨ë“  íŒŒì¼ ë¡œë“œ ì‹œ `get_runtime_base_dir()` ë˜ëŠ” `get_base_path()` ì‚¬ìš©
   - âœ… **exe/python ì‹¤í–‰ í™˜ê²½ ì°¨ì´ ì—†ìŒ**

---

### Q3. build ìŠ¤í¬ë¦½íŠ¸ì— í¬í•¨ëœ ë¦¬ì†ŒìŠ¤ ì¤‘ ì‹¤ì œ ì½”ë“œì—ì„œ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” í•­ëª©ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **`build_shot_collector_gui.py` ë²ˆë“¤ë§ ëª©ë¡**:
   ```python
   "--add-data", "client/core/pc_identifier.py;client/core",  # âœ… ì‚¬ìš©ë¨
   "--add-data", "config/criteria.json;config/criteria.json",  # âœ… ì‚¬ìš©ë¨
   "--add-data", "client/app/collector/config;client/app/collector/config",  # âš ï¸ í™•ì¸ í•„ìš”
   "--add-data", "client/app/collector/regions;client/app/collector/regions",  # âš ï¸ í™•ì¸ í•„ìš”
   ```

2. **`client/app/collector/config` í´ë”**:
   - ì½”ë“œì—ì„œ `get_runtime_base_dir()/config/` ì‚¬ìš©
   - `client/app/collector/config` ì§ì ‘ ì°¸ì¡° ì—†ìŒ
   - **âš ï¸ ë¶ˆí•„ìš”í•  ìˆ˜ ìˆìŒ**

3. **`client/app/collector/regions` í´ë”**:
   - `load_json()`ì€ `get_runtime_base_dir()/regions/` ì‚¬ìš©
   - `client/app/collector/regions` ì§ì ‘ ì°¸ì¡° ì—†ìŒ
   - **âš ï¸ ë¶ˆí•„ìš”í•  ìˆ˜ ìˆìŒ**

**ìˆ˜ì • ì œì•ˆ**:
- `client/app/collector/config`ì™€ `client/app/collector/regions` ë²ˆë“¤ë§ ì œê±° ê³ ë ¤
- ì‹¤í–‰ ê²½ë¡œ ê¸°ì¤€ìœ¼ë¡œ ìë™ ìƒì„±/ë³µì‚¬ë˜ë¯€ë¡œ ë¶ˆí•„ìš”í•  ìˆ˜ ìˆìŒ

---

## 2ï¸âƒ£ ì‹¤í–‰ ì§„ì…ì  / ì¤‘ë³µ main ì ê²€

### Q4. ë™ì¼í•œ ì—­í• ì˜ main í•¨ìˆ˜ / ì‹¤í–‰ ì§„ì…ì ì´ ë‘ ê°œ ì´ìƒ ì¡´ì¬í•˜ëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **ìƒ· ìˆ˜ì§‘ í”„ë¡œê·¸ë¨**:
   - `client/app/collector/shot_collector_gui.py:887` - `main()` (GUI ì§„ì…ì )
   - `client/app/collector/main.py:2968` - `main()` (ë‚´ë¶€ ë¡œì§, GUIì—ì„œ import)
   - âœ… **ì—­í•  ë¶„ë¦¬: GUI ì§„ì…ì ê³¼ ë¡œì§ ë¶„ë¦¬**

2. **PC ë“±ë¡ í”„ë¡œê·¸ë¨**:
   - `client/app/pc_register/register_pc_gui.py:487` - GUI ì§„ì…ì 
   - `client/app/pc_register/register_pc.py:132` - CLI ì§„ì…ì 
   - âœ… **ì—­í•  ë¶„ë¦¬: GUI/CLI ì„ íƒ ê°€ëŠ¥**

3. **ì¢Œí‘œ ì„¤ì • í”„ë¡œê·¸ë¨**:
   - `client/app/calibrator/calibrate_regions_gui.py:893` - GUI ì§„ì…ì 
   - `client/app/calibrator/calibrate_regions.py:198` - CLI ì§„ì…ì 
   - âœ… **ì—­í•  ë¶„ë¦¬**

**ê²°ë¡ **: ê° í”„ë¡œê·¸ë¨ì€ í•˜ë‚˜ì˜ ì§„ì…ì ë§Œ ê°€ì§€ê³  ìˆìœ¼ë©°, ì—­í• ì´ ë¶„ë¦¬ë˜ì–´ ìˆìŒ

---

### Q5. ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë‚¨ì•„ ìˆëŠ” .py íŒŒì¼ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **ë°±ì—… í´ë”**:
   - `backup_shot_collector/`, `backup_register_pc/`, `backup_coordinates_calibrator/`
   - **âš ï¸ ì‹¤í–‰ ê°€ëŠ¥í•œ `.py` íŒŒì¼ ì¡´ì¬**
   - ë¦¬íŒ©í† ë§ í›„ì—ë„ ë‚¨ì•„ìˆìŒ

2. **ë£¨íŠ¸ ë ˆë²¨ íŒŒì¼**:
   - `main.py` (ë£¨íŠ¸) - **âš ï¸ í™•ì¸ í•„ìš”**
   - `app.py` (ë£¨íŠ¸) - **âš ï¸ í™•ì¸ í•„ìš”**
   - `database.py` (ë£¨íŠ¸) - **âš ï¸ í™•ì¸ í•„ìš”**

**ìˆ˜ì • ì œì•ˆ**:
- ë°±ì—… í´ë”ëŠ” `.gitignore`ì— ì¶”ê°€í•˜ê±°ë‚˜ ë³„ë„ ë¸Œëœì¹˜ë¡œ ê´€ë¦¬
- ë£¨íŠ¸ ë ˆë²¨ íŒŒì¼ë“¤ì´ ì‚¬ìš©ë˜ëŠ”ì§€ í™•ì¸ í›„ ë¯¸ì‚¬ìš© ì‹œ ì œê±°

---

## 3ï¸âƒ£ client â†” server ì±…ì„ ë¶„ë¦¬ ì ê²€ (ì¤‘ìš”)

### Q6. client ì½”ë“œì—ì„œ serverê°€ íŒë‹¨í•´ì•¼ í•  ë¡œì§ì„ ë¯¸ë¦¬ íŒë‹¨í•˜ê³  ìˆëŠ” ë¶€ë¶„ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **active_user íŒë‹¨**:
   - `client/app/collector/main.py:2429, 2440, 2522` - `get_active_user()` í˜¸ì¶œ
   - **âœ… ì„œë²„ API í˜¸ì¶œ**: `ACTIVE_USER_API = f"{DEFAULT_SERVER_URL}/api/active_user"`
   - **âœ… ì„œë²„ê°€ íŒë‹¨**: clientëŠ” ë‹¨ìˆœ ì¡°íšŒë§Œ í•¨

2. **guest íŒë‹¨**:
   - `client/app/collector/main.py:2523-2536` - active_user ì—†ìœ¼ë©´ ìƒ· ì €ì¥ ë³´ë¥˜
   - **âœ… clientì—ì„œ guestë¡œ ì €ì¥í•˜ì§€ ì•ŠìŒ** (ì„œë²„ê°€ íŒë‹¨)

3. **ìƒ· ì €ì¥**:
   - `client/app/collector/main.py:2564` - `user_id: active_user` ì „ë‹¬
   - **âœ… ì„œë²„ê°€ ìµœì¢… íŒë‹¨**: `services/user/shared/database.py:459` - `save_shot_to_db()`ì—ì„œ ìµœê·¼ ìƒ· ê¸°ì¤€ íŒë‹¨

**ê²°ë¡ **: clientëŠ” ì„œë²„ APIë¥¼ í˜¸ì¶œë§Œ í•˜ê³ , ëª¨ë“  íŒë‹¨ì€ ì„œë²„ì—ì„œ ìˆ˜í–‰

---

### Q7. server ì½”ë“œì—ì„œ client ìƒíƒœë¥¼ ì‹ ë¢°í•˜ëŠ” ë¡œì§ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **ìƒ· ì €ì¥ ì‹œ user_id ê²€ì¦**:
   - `services/user/shared/database.py:507-538` - `save_shot_to_db()`ì—ì„œ ìµœê·¼ ìƒ· ê¸°ì¤€ìœ¼ë¡œ ì¬í™•ì¸
   - **âœ… clientì˜ user_idë¥¼ ê·¸ëŒ€ë¡œ ì‹ ë¢°í•˜ì§€ ì•ŠìŒ**

2. **active_user í™•ì¸**:
   - `services/user/shared/database.py:494-501` - `bays` í…Œì´ë¸”ì—ì„œ ì¬ì¡°íšŒ
   - **âœ… DB ê¸°ì¤€ìœ¼ë¡œ ì¬í™•ì¸**

3. **ì„¸ì…˜ í™•ì¸**:
   - `services/user/app.py:291, 300` - `@require_login` ë°ì½”ë ˆì´í„°ë¡œ ì„¸ì…˜ ê²€ì¦
   - **âœ… ì„œë²„ ì„¸ì…˜ ê¸°ì¤€**

**ê²°ë¡ **: ì„œë²„ëŠ” client ìƒíƒœë¥¼ ì‹ ë¢°í•˜ì§€ ì•Šê³ , DBì™€ ì„¸ì…˜ ê¸°ì¤€ìœ¼ë¡œ ì¬í™•ì¸

---

## 4ï¸âƒ£ active_user / ìƒ· ë¡œì§ ì¬ì ê²€ (CRITICAL)

### Q8. active_userë¥¼ ì„¤ì •/í•´ì œí•˜ëŠ” ì½”ë“œ ê²½ë¡œê°€ ë¬¸ì„œì— ì •ë¦¬í•œ ì •ì±…(10ë¶„ ìµœê·¼ ìƒ· ê¸°ì¤€)ê³¼ 100% ì¼ì¹˜í•˜ëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **íƒ€ì„ ì„ íƒ ì‹œ ì„¤ì •**:
   - `services/user/app.py:168` - `set_active_session()`
   - âœ… **ì •ì±… ì¼ì¹˜**

2. **ë¡œê·¸ì•„ì›ƒ ì‹œ í•´ì œ**:
   - `services/user/app.py:253` - `clear_active_session()`
   - âœ… **ì •ì±… ì¼ì¹˜**

3. **íƒ€ì„ ë³€ê²½ ì‹œ ì´ì „ í•´ì œ**:
   - `services/user/app.py:161` - `clear_active_session(prev_store_id, prev_bay_id)`
   - âœ… **ì •ì±… ì¼ì¹˜**

4. **ìµœê·¼ ìƒ· 10ë¶„ ê¸°ì¤€ ì •ë¦¬**:
   - `services/user/app.py:143` - `cleanup_expired_active_users_by_last_shot(10)`
   - `services/user/shared/database.py:737` - `cleanup_expired_active_users_by_last_shot(ttl_minutes=10)`
   - âœ… **ì •ì±… ì¼ì¹˜**

5. **ìƒ· ì €ì¥ ì‹œ ìë™ í•´ì œ**:
   - `services/user/shared/database.py:515-523` - ìµœê·¼ ìƒ· 10ë¶„ ì´ˆê³¼ ì‹œ ìë™ í•´ì œ
   - âœ… **ì •ì±… ì¼ì¹˜**

**ê²°ë¡ **: ëª¨ë“  ê²½ë¡œê°€ "ìµœê·¼ ìƒ· 10ë¶„ ê¸°ì¤€" ì •ì±…ê³¼ ì¼ì¹˜

---

### Q9. ìƒ· ì €ì¥ ì‹œ user_idê°€ ì˜ëª» ë¶™ì„ ìˆ˜ ìˆëŠ” ì˜ˆì™¸ ê²½ë¡œê°€ ì¡´ì¬í•˜ëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **active_user ì—†ì„ ë•Œ**:
   - `client/app/collector/main.py:2523-2536` - ìƒ· ì €ì¥ ë³´ë¥˜ (user_id ì „ë‹¬ ì•ˆ í•¨)
   - `services/user/shared/database.py:534-538` - `user_id = None, is_guest = True` ì €ì¥
   - âœ… **guest ìƒ·ìœ¼ë¡œ ëª…í™•íˆ ì €ì¥**

2. **ìµœê·¼ ìƒ· ê¸°ì¤€ íŒë‹¨**:
   - `services/user/shared/database.py:507-523` - ìµœê·¼ ìƒ· 10ë¶„ ê¸°ì¤€ìœ¼ë¡œ ì¬í™•ì¸
   - âœ… **DB ê¸°ì¤€ìœ¼ë¡œ ì¬í™•ì¸í•˜ì—¬ ì˜ëª»ëœ user_id ë°©ì§€**

3. **ì˜ˆì™¸ ì²˜ë¦¬**:
   - `services/user/shared/database.py:469` - `try-except` ì—†ì´ ëª…ì‹œì  íŒë‹¨
   - âœ… **ì˜ˆì™¸ ê²½ë¡œ ì—†ìŒ**

**ê²°ë¡ **: ëª¨ë“  ê²½ë¡œì—ì„œ user_idê°€ ëª…í™•íˆ íŒë‹¨ë˜ë©°, ì˜ˆì™¸ ê²½ë¡œ ì—†ìŒ

---

## 5ï¸âƒ£ ì—ëŸ¬ ì²˜ë¦¬ / UX ì—°ê²° ë¬¸ì œ

### Q10. ì„œë²„ì—ì„œ ë°˜í™˜í•˜ëŠ” 401 / 403 / 409 / 500 ì—ëŸ¬ê°€ ìœ ì € UIì—ì„œ ëª¨ë‘ ì‚¬ëŒ ë§ë¡œ ì²˜ë¦¬ë˜ê³  ìˆëŠ”ê°€?

**ë‹µë³€**: âš ï¸ **ë¶€ë¶„ì ìœ¼ë¡œ ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **409 Conflict (íƒ€ì„ ì¶©ëŒ)**:
   - `services/user/app.py:155` - `render_template(..., error=..., 409)`
   - âœ… **HTML í…œí”Œë¦¿ì—ì„œ ì²˜ë¦¬** - "âš ï¸ {bay_id}ë²ˆ íƒ€ì„ì€ í˜„ì¬ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ì´ìš© ì¤‘ì…ë‹ˆë‹¤."

2. **401 Unauthorized**:
   - `services/user/app.py:291, 300` - `jsonify({"error": "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."}), 401`
   - âš ï¸ **JSON ì‘ë‹µë§Œ - í”„ë¡ íŠ¸ì—”ë“œ JavaScriptì—ì„œ ì²˜ë¦¬ í•„ìš”**
   - í™•ì¸ í•„ìš”: `templates/*.html`ì—ì„œ 401 ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

3. **403 Forbidden**:
   - `services/user/app.py:318` - `jsonify({"error": "ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤."}), 403`
   - âš ï¸ **JSON ì‘ë‹µë§Œ - í”„ë¡ íŠ¸ì—”ë“œ JavaScriptì—ì„œ ì²˜ë¦¬ í•„ìš”**

4. **500 Internal Server Error**:
   - `services/user/app.py:179, 202, 277, 304` - `f"ì˜¤ë¥˜ ë°œìƒ: {str(e)}", 500`
   - âš ï¸ **ì¼ë°˜ ë¬¸ìì—´ ì‘ë‹µ - HTML/JSON í˜•ì‹ ì•„ë‹˜**

**ìˆ˜ì • ì œì•ˆ**:
- 401/403/500 ì—ëŸ¬ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ í†µì¼
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ JavaScriptë¡œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

---

### Q11. ìƒ· 0ê°œ / ë°ì´í„° ì—†ìŒ ìƒíƒœì—ì„œ ì—ëŸ¬ í˜ì´ì§€ë¡œ ë–¨ì–´ì§€ëŠ” UXê°€ ì¡´ì¬í•˜ëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **ìƒ· 0ê°œ ì²˜ë¦¬**:
   - `services/user/app.py:286-287` - `jsonify({"shots": shots if shots else []})`
   - âœ… **ë¹ˆ ë°°ì—´ ë°˜í™˜** - ì—ëŸ¬ ì•„ë‹˜

2. **í…œí”Œë¦¿ ì²˜ë¦¬**:
   - `services/user/templates/shots_all.html` - `{% if shots %}` ì¡°ê±´ ì²˜ë¦¬ í™•ì¸ í•„ìš”
   - ì¼ë°˜ì ìœ¼ë¡œ ë¹ˆ ë°°ì—´ë„ ì •ìƒ ì²˜ë¦¬ë¨

**ê²°ë¡ **: ë¹ˆ ë°°ì—´ë„ ì •ìƒ ì‘ë‹µìœ¼ë¡œ ì²˜ë¦¬ë˜ë©°, ì—ëŸ¬ í˜ì´ì§€ë¡œ ë–¨ì–´ì§€ì§€ ì•ŠìŒ

---

## 6ï¸âƒ£ ë¹Œë“œ / ë°°í¬ / í™˜ê²½ ì°¨ì´ ì ê²€

### Q12. ë¡œì»¬ ì‹¤í–‰ê³¼ exe ì‹¤í–‰ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” ì¡°ê±´ë¬¸ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **`sys.frozen` ì²´í¬**:
   - `client/app/collector/main.py:124-126` - `get_runtime_base_dir()`ì—ì„œ ì¼ê´€ ì²˜ë¦¬
   ```python
   if getattr(sys, 'frozen', False):
       return os.path.dirname(sys.executable)  # exe
   return os.path.dirname(os.path.abspath(__file__))  # python
   ```
   - âœ… **ë¡œì§ì€ ë™ì¼, ê²½ë¡œë§Œ ë‹¤ë¦„**

2. **ê²½ë¡œ ì²˜ë¦¬**:
   - ëª¨ë“  íŒŒì¼ ë¡œë“œ ì‹œ `get_runtime_base_dir()` ë˜ëŠ” `get_base_path()` ì‚¬ìš©
   - âœ… **exe/python ì‹¤í–‰ í™˜ê²½ ì°¨ì´ ì—†ìŒ**

**ê²°ë¡ **: ë¡œì§ì€ ë™ì¼í•˜ë©°, ê²½ë¡œë§Œ í™˜ê²½ì— ë”°ë¼ ë‹¤ë¦„ (ì˜ë„ëœ ë™ì‘)

---

### Q13. Windows ê²½ë¡œ ê¸°ì¤€ìœ¼ë¡œë§Œ ì‘ì„±ë˜ì–´ í™˜ê²½ ì˜ì¡´ì„±ì´ ìƒê¸¸ ìˆ˜ ìˆëŠ” ì½”ë“œê°€ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **ê²½ë¡œ êµ¬ë¶„ì**:
   - `os.path.join()` ì‚¬ìš© - ìë™ìœ¼ë¡œ OSë³„ êµ¬ë¶„ì ì‚¬ìš©
   - âœ… **Windows/Linux/Mac ëª¨ë‘ í˜¸í™˜**

2. **ì ˆëŒ€ ê²½ë¡œ/ìƒëŒ€ ê²½ë¡œ**:
   - `os.path.abspath()`, `os.path.dirname()` ì‚¬ìš© - í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬
   - âœ… **í”Œë«í¼ ë…ë¦½ì **

**ê²°ë¡ **: OS í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ í™˜ê²½ ì˜ì¡´ì„± ì—†ìŒ

---

## 7ï¸âƒ£ ë¡œê·¸ / ë””ë²„ê¹… ê´€ì  ì ê²€

### Q14. í˜„ì¬ ë¡œê·¸ë§Œ ë³´ê³  í˜„ì¥ì—ì„œ ë¬¸ì œ ì›ì¸ì„ ì¶”ì í•  ìˆ˜ ì—†ëŠ” ì˜ì—­ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âš ï¸ **ë¶€ë¶„ì ìœ¼ë¡œ ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **active_user ì—†ì„ ë•Œ**:
   - `client/app/collector/main.py:2524-2528` - ê²½ê³  ë¡œê·¸ ìˆìŒ
   - âœ… **ì¶”ì  ê°€ëŠ¥**

2. **ìƒ· ì €ì¥ ì‹¤íŒ¨**:
   - `services/user/shared/database.py:513, 523, 533, 538` - ë¡œê·¸ ìˆìŒ
   - âœ… **ì¶”ì  ê°€ëŠ¥**

3. **HTTP ì—ëŸ¬**:
   - `client/app/collector/main.py:485, 565, 575` - `response.json()` ì‹¤íŒ¨ ì‹œ ì˜ˆì™¸ë§Œ
   - âš ï¸ **ìƒì„¸ ì—ëŸ¬ ë©”ì‹œì§€ ë¡œê¹… ë¶€ì¡±**

**ìˆ˜ì • ì œì•ˆ**:
- HTTP ì—ëŸ¬ ì‹œ `response.text`, `response.status_code` ë¡œê¹… ì¶”ê°€

---

### Q15. ì‚­ì œí•´ë„ ë˜ëŠ” debug/log ì½”ë“œê°€ ì•„ì§ ë‚¨ì•„ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **DEBUG_LOG**:
   - `client/app/collector/main.py:11` - `DEBUG_LOG = os.path.join(...)`
   - âš ï¸ **ì‚¬ìš© ì—¬ë¶€ í™•ì¸ í•„ìš”**

2. **print ë¬¸**:
   - `services/user/shared/database.py` ë‹¤ìˆ˜ - `print(f"[INFO] ...")`, `print(f"[ERROR] ...")`
   - âš ï¸ **ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¶Œì¥**

**ìˆ˜ì • ì œì•ˆ**:
- `DEBUG_LOG` ì‚¬ìš© ì—¬ë¶€ í™•ì¸ í›„ ë¯¸ì‚¬ìš© ì‹œ ì œê±°
- `print` ë¬¸ì„ ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë³€ê²½ ê³ ë ¤

---

## 8ï¸âƒ£ ë¬¸ì„œì™€ ì½”ë“œ ë¶ˆì¼ì¹˜ ì ê²€ (ì¤‘ìš”)

### Q16. ì§€ê¸ˆê¹Œì§€ ì‘ì„±ëœ ë¦¬íŒ©í† ë§ ë¬¸ì„œ/ì •ì±…ê³¼ ì‹¤ì œ ì½”ë“œê°€ ë¶ˆì¼ì¹˜í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **CONFIG_PATH_CONSOLIDATION.md**:
   - `golf_trainer/config/criteria.json` ê¸°ì¤€ í†µì¼ ë¬¸ì„œí™”
   - `build_shot_collector_gui.py:28` - ì‹¤ì œ ì½”ë“œì™€ ì¼ì¹˜
   - âœ… **ì¼ì¹˜**

2. **ACTIVE_USER_VERIFICATION_REPORT.md**:
   - active_user ì •ì±… ë¬¸ì„œí™”
   - `services/user/shared/database.py:737` - ì‹¤ì œ ì½”ë“œì™€ ì¼ì¹˜
   - âœ… **ì¼ì¹˜**

**ê²°ë¡ **: ì£¼ìš” ì •ì±… ë¬¸ì„œì™€ ì½”ë“œê°€ ì¼ì¹˜

---

### Q17. ì½”ë“œë§Œ ë³´ë©´ ì™œ ì´ë ‡ê²Œ ì„¤ê³„í–ˆëŠ”ì§€ ì´í•´ ì•ˆ ë˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ”ê°€?

**ë‹µë³€**: âš ï¸ **ë¶€ë¶„ì ìœ¼ë¡œ ë¬¸ì œ ìˆìŒ**

**ê·¼ê±°**:
1. **`client/app/collector/config` ë²ˆë“¤ë§**:
   - `build_shot_collector_gui.py:29` - ë²ˆë“¤ë§ í¬í•¨
   - ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
   - âš ï¸ **ì£¼ì„ í•„ìš” ë˜ëŠ” ì œê±°**

2. **`cleanup_expired_active_users()` í•¨ìˆ˜**:
   - `services/user/shared/database.py:811` - `last_update` ê¸°ì¤€ (ì‚¬ìš© ì•ˆ í•¨)
   - `cleanup_expired_active_users_by_last_shot()` ëŒ€ì‹  ì‚¬ìš©ë¨
   - âš ï¸ **deprecated í‘œì‹œ ë˜ëŠ” ì œê±°**

**ìˆ˜ì • ì œì•ˆ**:
- ë¯¸ì‚¬ìš© í•¨ìˆ˜/ê²½ë¡œì— ì£¼ì„ ì¶”ê°€ ë˜ëŠ” ì œê±°

---

## 9ï¸âƒ£ ìµœì¢… í™•ì¸ ì§ˆë¬¸ (ì´ê²Œ ì œì¼ ì¤‘ìš”)

### Q18. ì§€ê¸ˆ ìƒíƒœì—ì„œ ê¸°ì¤€ íŒŒì¼ / ì •ì±… / ë¡œì§ì´ "í•˜ë‚˜ë§Œ ê³ ì¹˜ë©´ ì „ì²´ê°€ ë°”ë€ŒëŠ”" ìœ„í—˜ êµ¬ì¡°ëŠ” ì—†ëŠ”ê°€?

**ë‹µë³€**: âœ… **ë¬¸ì œ ì—†ìŒ**

**ê·¼ê±°**:
1. **criteria.json**:
   - ë‹¨ì¼ ì†ŒìŠ¤: `golf_trainer/config/criteria.json`
   - ìƒ· ìˆ˜ì§‘ í”„ë¡œê·¸ë¨: ë¹Œë“œ ì‹œ ë²ˆë“¤ë§ â†’ ì‹¤í–‰ ì‹œ ë³µì‚¬
   - ì›¹ ì„œë¹„ìŠ¤: í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì§ì ‘ ë¡œë“œ
   - âœ… **ë‹¨ì¼ ì†ŒìŠ¤ ìœ ì§€**

2. **active_user ì •ì±…**:
   - ë‹¨ì¼ ê¸°ì¤€: "ìµœê·¼ ìƒ· 10ë¶„ ê¸°ì¤€"
   - ëª¨ë“  ì½”ë“œ ê²½ë¡œì—ì„œ ë™ì¼ ì •ì±… ì ìš©
   - âœ… **Single Source of Truth ìœ ì§€**

3. **ê²ŒìŠ¤íŠ¸ ìƒ· ì •ì±…**:
   - ë‹¨ì¼ ê¸°ì¤€: `is_guest = TRUE, user_id = NULL`
   - `save_shot_to_db()`ì—ì„œ í†µì¼ ì²˜ë¦¬
   - âœ… **ë‹¨ì¼ ì†ŒìŠ¤ ìœ ì§€**

**ê²°ë¡ **: ëª¨ë“  ì •ì±…ê³¼ ê¸°ì¤€ì´ ë‹¨ì¼ ì†ŒìŠ¤ë¡œ ê´€ë¦¬ë˜ë©°, ìœ„í—˜ êµ¬ì¡° ì—†ìŒ

---

## ğŸ“Š ì¢…í•© í‰ê°€

### ë¬¸ì œ ì—†ìŒ: 11ê°œ
### ë¬¸ì œ ìˆìŒ: 7ê°œ
### ìˆ˜ì • ì œì•ˆ í•­ëª©: 7ê°œ

### ìš°ì„ ìˆœìœ„ ìˆ˜ì • ì œì•ˆ

1. **CRITICAL**: `config/feedback_messages.json` ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì— ë²ˆë“¤ë§ ì¶”ê°€
2. **HIGH**: ë¶ˆí•„ìš”í•œ ë²ˆë“¤ë§ í•­ëª©(`client/app/collector/config`, `regions`) í™•ì¸ ë° ì œê±°
3. **MEDIUM**: 401/403/500 ì—ëŸ¬ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ í†µì¼ ë° í”„ë¡ íŠ¸ì—”ë“œ ì²˜ë¦¬
4. **LOW**: ë¯¸ì‚¬ìš© í•¨ìˆ˜/ê²½ë¡œ ì •ë¦¬ ë° ì£¼ì„ ì¶”ê°€

---

**ê²€ì¦ ì™„ë£Œì¼**: 2026-01-19  
**ê²€ì¦ì**: Cursor AI  
**ë‹¤ìŒ ê²€í†  ê¶Œì¥ì¼**: ìš´ì˜ í™˜ê²½ ë°°í¬ í›„ 1ì£¼ì¼
